<%= form_for(resource, as: resource_name, url: user_session_path, method: :post) do |f| %>
  <div class="mb-3">
    <%= f.label :email, "Email address", class: "form-label" %>

    <%= f.email_field :email, class: "form-control", placeholder: "Email address", required: true, autofocus: true, autocomplete: "email" %>
  </div>

  <div class="mb-3">
    <%= f.label :password, "Password", class: "form-label" %>

    <div class="input-group" data-controller="password-visibility">
      <%= f.password_field :password,
                           data: {"password-visibility-target": "input"},
                           class: "form-control",
                           placeholder: "Password",
                           required: true,
                           autocomplete: "current-password" %>
      <button type="button" data-action="password-visibility#toggle" class="input-group-text">
          <span data-password-visibility-target="icon">
            <%= inline_svg_tag "icons/eye.svg", class: "vertical-align-125" %>
          </span>
        <span data-password-visibility-target="icon" class="hidden">
            <%= inline_svg_tag "icons/eye-slash.svg", class: "vertical-align-125" %>
          </span>
      </button>
    </div>
  </div>

  <% if resource.otp_required_for_login? %>
    <div class="mb-3">
      <%= f.label :otp_attempt, "2FA Code", class: "form-label" %>

      <%= f.text_field :otp_attempt, class: "form-control", placeholder: "2FA Code", autocomplete: "one-time-code" %>
    </div>
  <% end %>

  <% if devise_mapping.rememberable? %>
    <div class="form-check">
      <%= f.check_box :remember_me, class: "form-check-input", checked: true %>
      <%= f.label :remember_me, "Remember me", class: "form-check-label" %>
    </div>
  <% end %>

  <div class="text-center">
    <%= f.submit t(".sign_in"), class: "btn btn-primary" %>
  </div>
<% end %>
